/*!
 *
 * GeoCanAut tools / Outil GÃ©oCanAut
 * geocanaut.github.io/geocanaut/License-eng.txt / geocanaut.github.io/geocanaut/Licence-fra.txt
 *
 * Version: v0.0.1-development Build: 2013-12-10- 10:02 AM
 *
 */
var vmObject={};(function(){var a,b;define(["jquery","knockout","accessibletabs","syncheight","gcaut-headerV","gcaut-defineMapContentV","gcaut-i18n"],function(g,p,d,j,i,k,q){var o,h,f,e,n,m,l,c;f=function(){if(navigator.userAgent.indexOf("MSIE")!==-1){var s=navigator.userAgent.indexOf("MSIE 6.0");var x=navigator.userAgent.indexOf("MSIE 7.0");var w=navigator.userAgent.indexOf("MSIE 8.0");var u=navigator.userAgent.indexOf("MSIE 9.0");if((s!==-1)||(x!==-1)||(w!==-1)||(u!==-1)){alert("You are using IE 9 or less. Use a real browser!!!")}}else{var v=g(".gcviz");var t;var r=v.length;a=r;b=0;i.initialize(0);while(r--){t=v[r];m(t)}}};m=function(w){var s=w.getAttribute("id");var t="";t='<section id="secMap'+s+'">';t+='  <div class="gcvMargTop10">';t+='    <div style="display:inline;">';t+='      <label for="lblProjectName" style="display:inline;">'+q.getDict("%projectname")+"</label>";t+='      <input id="inProjectName" class="gcvProjName" accept="text/js" title="'+q.getDict("%nameconfig")+'" value="'+q.getDict("%nameconfig")+'" style="display:inline;" />';t+='      <input type="file" id="file1" style="display:none" accept="text/json">';t+="    </div>";t+='    <a href="#" id="aOpenProject" onclick="Javascript:openConfig();" title="'+q.getDict("%openconfig")+'" class="gcvbutton" style="display:inline;">';t+='      <img src="distgcv/images/folder_find.png" class="gcvImg20 gcvMargBottom0 gcvimgPos" />';t+='      <span class="gcvimgText">'+q.getDict("%openfile")+"</span>";t+="    </a>";t+='    <a href="#" id="aSaveProject" onclick="Javascript:saveConfig();" title="'+q.getDict("%saveconfig")+'" class="gcvbutton gcvMargLeft10" style="display:inline;">';t+='      <img src="distgcv/images/save.gif" class="gcvImg20 gcvMargBottom0 gcvimgPos" />';t+='      <span class="gcvimgText">'+q.getDict("%save")+"</span>";t+="    </a>";t+="  </div>";t+='  <div id="divLvl1TabsMap'+s+'" class="tabs">';t+='   <div id="divLvl1TabMapDef'+s+'" class="tabbody">';t+="     <h2>"+q.getDict("%map")+"&nbsp;</h2>";t+='     <section id="secMapTab'+s+'">';t+="     </section>";t+="   </div>";t+='   <div id="divLvl1TabInsets'+s+'" class="tabbody">';t+="     <h2>"+q.getDict("%inset")+"&nbsp;</h2>";t+='     <section id="secInsetTab'+s+'">';t+="     </section>";t+="   </div>";t+='   <div id="divLvl1TabHeader'+s+'" class="tabbody">';t+="     <h2>"+q.getDict("%header")+"&nbsp;</h2>";t+='     <section id="secHeaderTab'+s+'">';t+="     </section>";t+="   </div>";t+='   <div id="divLvl1TabToolbars'+s+'" class="tabbody">';t+="     <h2>"+q.getDict("%toolbars")+"</h2>";t+='     <section id="secToolbarsTab'+s+'">';t+="     </section>";t+="   </div>";t+='   <div id="divLvl1TabFooter'+s+'" class="tabbody">';t+="     <h2>"+q.getDict("%footer")+"</h2>";t+='     <section id="secFooterTab'+s+'">';t+="     </section>";t+="   </div>";t+="  </div>";t+="</section>";var u=g("#gcvMain");u.append(t);var v="#divLvl1TabsMap"+s;var r=g(v);r.accessibleTabs();r.accessibleTabs({tabhead:"h2",tabbody:".tabbody",fx:"fadeIn",currentInfoText:""});g.support.cors=true;g.ajax({url:w.getAttribute("data-gcviz"),crossDomain:true,dataType:"json",async:false,success:function(x){x.gcviz.mapframe.id=w.getAttribute("id");e(w,x.gcviz);console.log("config file read")},error:function(){console.log("error loading config file")}})};n=function(){};c=function(){};e=function(v,s){var u,t=g(v),r=s.mapframe.id;t.wrap('<section id="sec'+r+'" class="gcviz-section" role="map">');u=g(document).find("#"+r);g.extend(u,s);k.initialize(r)};return{initialize:f,openConfig:n,saveConfig:c}})}).call(this);