<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>GÃ©oCanAut</title>
		<!-- bootstrapper script start (comment min and uncomment debug to run without to build)-->
		<!-- <script src="dist/gcaut-config-min.js"></script> -->
		<script src="src/js/gcaut-config-debug.js"></script>
		<link rel="stylesheet" href="dist/gcaut-min.css">
		<!-- bootstrapper script end -->
	</head>
	<body>


				<input id="inProjectName" class="gcvProjName" accept="text/js" data-bind="attr:{title: nameconfig}" />
<input type="file" id="file1" name="files[]" />
			<a href="#" id="aOpenProject" onclick="simulateClick()" data-bind="attr:{title: openconfig}" class="gcvbutton gcvbutton75 gcvbuttonImage gcvgrey">
				<img src="dist/images/folder_find.png" class="gcvImg20" />
				<span class="gcvimgText" data-bind="text: open"></span>
			</a>

<script>
  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // Loop through the FileList.
    for (var i = 0, f; f = files[i]; i++) {

      // Only process json files.
      if (!f.type.match('application/json')) {
        continue;
      }

      var reader = new FileReader();

      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
        	data = JSON.parse(e.target.result);
        	alert(data.icanmap.controls.mousecoord);
        };
      })(f);

      // Read in the image file as a data URL.
      reader.readAsText(f);
      //reader.readAsDataURL(f);
    }
  }
  
  function simulateClick() {
  	$('#file1').click();
  }

  document.getElementById('file1').addEventListener('change', handleFileSelect, false);
</script>
		
	</body>
</html>