(function(){define(["jquery-private","knockout","gcaut-i18n","gcaut-func"],function(f,c,g,b){var a,d,e;a=function(i,j){var h=function(n,l){var t=this,q=l.geolocation,s=l.scalebar,o=l.scaledisplay,u=l.overview,r=b.getListCB(g.getDict("%nav-scalebarlist")),k=b.getListCB(g.getDict("%nav-scalelist")),p=locationPath+"gcaut/images/navFullExtent.png",m=locationPath+"gcaut/images/navGeoloc.png";t.imgZoom=p;t.imgGeoloc=m;t.lblEnable=g.getDict("%nav-enable");t.lblExpand=g.getDict("%expand");t.lblZoom=g.getDict("%nav-zoom");t.lblGeoloc=g.getDict("%nav-geoloc");t.lblScalebar=g.getDict("%nav-scalebar");t.lblScalebarUnit=g.getDict("%nav-scalebarunit");t.lblScale=g.getDict("%nav-scale");t.lblScaleFormat=g.getDict("%nav-scaleformat");t.lblOver=g.getDict("%nav-over");t.lblUrlOver=g.getDict("%nav-urlover");t.isEnable=c.observable(l.enable);t.isExpand=c.observable(l.expand);t.isZoom=c.observable(l.zoom);t.isGeoloc=c.observable(q.enable);t.isScalebar=c.observable(s.enable);t.scalebarType=r;t.selectScalebar=c.observable(t.scalebarType[s.unit-1]);t.isScale=c.observable(o.enable);t.scaleType=k;t.selectScale=c.observable(t.scaleType[o.format-1]);t.isOver=c.observable(u.enable);t.urlOver=c.observable(l.overview.url);d(c,n);t.init=function(){return{controlsDescendantBindings:true}};t.bind=function(){d(c,n);c.applyBindings(t,n)};t.write=function(){var w,v=b.getElemValueVM("map","urlGeomServer");w='"toolbarnav": {"enable": '+t.isEnable()+',"expand": '+t.isExpand()+',"zoom": '+t.isZoom()+',"urlgeomserv": "'+v+'","geolocation": {"enable": '+t.isGeoloc()+',"type": -1},"scalebar": {"enable": '+t.isScalebar()+',"unit": '+t.selectScalebar().id+'},"scaledisplay": {"enable": '+t.isScale()+',"format": '+t.selectScale().id+'},"overview": {"enable": '+t.isOver()+',"url": "'+t.urlOver()+'"}}';return w};t.init()};e=new h(i,j);c.applyBindings(e,i);return e};d=function(h,i){h.cleanNode(i)};return{initialize:a,clean:d}})}).call(this);